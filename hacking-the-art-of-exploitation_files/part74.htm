<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>0x410 OSI Model</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part73.htm">&lt; Previous</a><span> | </span><a href="../hacking-the-art-of-exploitation.html">Contents</a><span> | </span><a href="part75.htm">Next &gt;</a></p><p class="s30" style="padding-top: 3pt;padding-left: 37pt;text-indent: 0pt;text-align: left;"><a name="bookmark63">0x410 OSI Model</a></p><p style="padding-top: 7pt;padding-left: 91pt;text-indent: 0pt;line-height: 108%;text-align: left;">When two computers talk to each other, they need to speak the same lan- guage. The structure of this language is described in layers by the OSI model. The OSI model provides standards that allow hardware, such as routers and firewalls, to focus on one particular aspect of communication that applies to them and ignore others. The OSI model is broken down into conceptual layers of communication. This way, routing and firewall hardware can focus on passing data at the lower layers, ignoring the higher layers of data encap- sulation used by running applications. The seven OSI layers are as follows:</p><p class="s76" style="padding-top: 7pt;padding-left: 109pt;text-indent: 0pt;line-height: 107%;text-align: left;">Physical layer  <span class="p">This layer deals with the physical connection between two points. This is the lowest layer, whose primary role is communicating raw bit streams. This layer is also responsible for activating, maintaining, and deactivating these bit-stream communications.</span></p><p class="s76" style="padding-top: 3pt;padding-left: 109pt;text-indent: 0pt;line-height: 107%;text-align: left;">Data-link layer  <span class="p">This layer deals with actually transferring data between two points. In contrast with the physical layer, which takes care of send- ing the raw bits, this layer provides high-level functions, such as error correction and flow control. This layer also provides procedures for acti- vating, maintaining, and deactivating data-link connections.</span></p><p class="s76" style="padding-top: 4pt;padding-left: 109pt;text-indent: 0pt;line-height: 106%;text-align: left;">Network layer <span class="p">This layer works as a middle ground; its primary role is to pass information between the lower and the higher layers. It provides addressing and routing.</span></p><p class="s76" style="padding-top: 4pt;padding-left: 109pt;text-indent: 0pt;line-height: 107%;text-align: justify;">Transport layer  <span class="p">This layer provides transparent transfer of data between systems. By providing reliable data communication, this layer allows the higher layers to never worry about reliability or cost-effectiveness of data transmission.</span></p><p class="s76" style="padding-top: 3pt;padding-left: 109pt;text-indent: 0pt;text-align: justify;">Session layer  <span class="p">This layer is responsible for establishing and maintaining connections between network applications.</span></p><p class="s76" style="padding-top: 4pt;padding-left: 109pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Presentation layer  <span class="p">This layer is responsible for presenting the data to applications in a syntax or language they understand. This allows for things like encryption and data compression.</span></p><p class="s76" style="padding-top: 4pt;padding-left: 109pt;text-indent: 0pt;text-align: justify;">Application layer  <span class="p">This layer is concerned with keeping track of the requirements of the application.</span></p><p style="padding-top: 8pt;padding-left: 91pt;text-indent: 17pt;line-height: 108%;text-align: left;">When data is communicated through these protocol layers, it’s sent in small pieces called packets. Each packet contains implementations of these protocol layers. Starting from the application layer, the packet wraps the pre- sentation layer around that data, which wraps the session layer, which wraps the transport layer, and so forth. This process is called encapsulation. Each wrapped layer contains a header and a body. The header contains the pro- tocol information needed for that layer, while the body contains the data for that layer. The body of one layer contains the entire package of previously encapsulated layers, like the skin of an onion or the functional contexts found on a program’s stack.</p><p style="padding-top: 3pt;padding-left: 91pt;text-indent: 17pt;line-height: 107%;text-align: left;">For example, whenever you browse the Web, the Ethernet cable and card make up the physical layer, taking care of the transmission of raw bits from one end of the cable to the other. The next later is the data link layer. In the web browser example, Ethernet makes up this layer, which provides the low-level communications between Ethernet ports on the LAN. This protocol allows for communication between Ethernet ports, but these ports don’t yet have IP addresses. The concept of IP addresses doesn’t exist until the next layer, the network layer. In addition to addressing, this layer is responsible for moving data from one address to another. These three lower layers together are able to send packets of data from one IP address to another. The next layer is the transport layer, which for web traffic is TCP; it provides a seamless bidirectional socket connection. The term <span class="s27">TCP/IP </span>describes the use of TCP on the transport layer and IP on the network layer. Other addressing schemes exist at this layer; however, your web traffic probably uses IP version 4 (IPv4). IPv4 addresses follow a familiar form</p><p style="padding-left: 91pt;text-indent: 0pt;text-align: left;">of <span class="s27">XX</span>.<span class="s27">XX</span>.<span class="s27">XX</span>.<span class="s27">XX</span>. IP version 6 (IPv6) also exists on this layer, with a totally different addressing scheme. Since IPv4 is most common, <span class="s27">IP </span>will always refer to IPv4 in this book.</p><p class="s77" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Internet</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 91pt;text-indent: 17pt;line-height: 108%;text-align: left;">The web traffic itself uses HTTP (Hypertext Transfer Protocol) to com- municate, which is in the top layer of the OSI model. When you browse the Web, the web browser on your network is communicating across the Internet with the webserver located on a different private network. When this happens, the data packets are encapsulated down to the physical layer where they are passed to a router. Since the router isn’t concerned with what’s actually in the packets, it only needs to implement protocols up to the network layer. The router sends the packets out to the Internet, where they reach the other network’s router. This router then encapsulates this packet with the lower- layer protocol headers needed for the packet to reach its final destination. This process is shown in the following illustration.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="319" height="212" alt="image" src="Image_602.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s77" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">(7) Application layer</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s77" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(6) Presentation layer</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s77" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(5) Session layer</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s77" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(4) Transport layer</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s77" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(3) Network layer</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s77" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(2) Data-link layer</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s77" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(1) Physical layer</p><p style="text-indent: 0pt;text-align: left;"/><p class="s77" style="padding-top: 6pt;padding-left: 174pt;text-indent: 0pt;line-height: 106%;text-align: right;">Network 1 application</p><p class="s77" style="padding-top: 6pt;padding-left: 73pt;text-indent: 0pt;line-height: 106%;text-align: left;">Network 2 application</p><p style="padding-top: 3pt;padding-left: 91pt;text-indent: 17pt;line-height: 108%;text-align: left;">All of this packet encapsulation makes up a complex language that hosts on the Internet (and other types of networks) use to communicate with each other. These protocols are programmed into routers, firewalls, and your computer’s operating system so they can communicate. Programs that use networking, such as web browsers and email clients, need to interface with the operating system which handles the network communications. Since the operating system takes care of the details of network encapsulation, writing network programs is just a matter of using the network interface of the OS.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part73.htm">&lt; Previous</a><span> | </span><a href="../hacking-the-art-of-exploitation.html">Contents</a><span> | </span><a href="part75.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
